<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Week 5 Notes</title>

    <link rel="stylesheet" href="../css/regular.css">

    <style>
        body {
            line-height: 1.5;
        }

        img {
            width: 80%;
        }
    </style>
</head>
<body>
    <main>
        <h1>Week 5 Notes & Exercises</h1>
        <p>I'm leaving my team's work here so I can refer back to it: <a href="solutions/week05/index.html">Great Hikes</a></p>

        <h2>Chapter 10: Testing and Debugging</h2>
        <ul>
            <li>Usually, errors are caused by one of these three:
                <ul>
                    <li>System error: a problem with the system or external devices with which the program is interacting</li>
                    <li>Programmer error: incorrect syntax or faulty logic - might even be a typo</li>
                    <li>User error: user entered data incorrectly, and the program was unable to handle it</li>
                </ul>
            </li>

            <li>Programmers can't control system errors usually, but they try to work their way around it
                <ul>
                    <li>They are responsible for programmer errors and usually will build the program in a way that can minimize user errors</li>
                </ul>
            </li>

            <li>Warnings can occur when there's an error that isn't big enough to cause the program to crash
                <ul>
                    <li>While this may sound alright to deal with, it's best to give attention to it</li>
                </ul>
            </li>

            <li>Because JS can be very forgiving when it comes to errors, Strict Mode was introduced to produce more exceptions and warnings and prohibits the use of some deprecated features
                <ul>
                    <li>Not using strict mode is referred to 'sloppy mode'</li>
                    <li>It is better practice to spot errors earlier on so they won't cause problems later</li>
                    <li>To use, add <b>'use strict';</b> to the first line of a JS file</li>
                    <li>Modules are self-contained pieces of code that are in strict mode by default (you don't need to declare strict mode in them)</li>
                </ul>
            </li>

            <li>Because new APIs are being developed constantly as part of the HTML5 specification, browser vendors try to keep up with supporting them, but don't always succeed
                <ul>
                    <li>Some browsers don't even support certain features</li>
                    <li>For these reasons, feature detection can be used
                        <ul>
                            <li>The recommended way to determine if a browser supports a feature is an if statement</li>
                            <li class="example">if (window.holoDeck) { virtualReality.activate(); }</li>
                        </ul>
                    </li>
                    <li><b>Modernizr</b> is a library that offers an easy way to implement feature detection</li>
                </ul>
            </li>

            <li>Error objects can be created by the host environment when an exception occurs, or it can be created in the code using a constructor function
                <ul>
                    <li class="example">const error = new Error();</li>
                    <li>You can then throw these custom errors using the <b>throw</b> statement</li>
                </ul>
            </li>

            <li>If you suspect a piece of code will result in an exception, you can wrap it in a <b>try</b> block
                <ul>
                    <li>The code will run normally, but if an exception occurs, the error object that is thrown will be passed to a <b>catch</b> block
                        <ul>
                            <li>It might look like this:</li>
                            <li class="example">function doAThing(arg) {<br>
                                &emsp;'use strict';<br>
                                &emsp;try {<br>
                                    &emsp;&emsp;//if no error, this part will run<br>
                                &emsp;} catch(error) {<br>
                                &emsp;&emsp;//if there is an error, this part will run
                                &emsp;}<br>
                                }
                            </li>
                            <li>Kind of like an if statement for possible error-inducing parts of the program</li>
                        </ul>
                    </li>
                    <li>A <b>finally</b> block can then be added after the <b>catch</b> block
                        <ul>
                            <li>The code inside a <b>finally</b> block will always run regardless of whether an exception happened or not</li>
                            <li>Add the block the same way you would add a <b>catch</b> block</li>
                        </ul>
                    </li>
                </ul>
            </li>

            <li>The process of TDD (test-driven development) starts with writing the tests before the code
                <ul>
                    <li>The whole process results in this workflow:
                        <ol>
                            <li>Write tests (they will initially fail because there's no code to test)</li>
                            <li>Write code to pass the tests</li>
                            <li>Refactor the code (make it faster, more readable, remove repetition)</li>
                            <li>Test refactored code</li>
                            <li>Write more tests for new features</li>
                        </ol>
                    </li>
                    <li>While considered best practice, it's hard to always use this mindset; however, any test is better than none at all</li>
                </ul>
            </li>

            <li>There are a few TDD frameworks that can help developers test their programs
                <ul>
                    <li><b>Jest</b>, made by Facebook, is one that has gained a lot of popularity</li>
                    <li>Here's an example from the textbook on how to use it</li>
                    <p><img src="img/example-jest.JPG" alt="Example of Jest"></p>
                </ul>
            </li>
        </ul>

        <h2>Definitions</h2>
        <p>1. <b>Exception:</b> an error that produces a return value that can then be used by the program to deal with the error (ex: trying to call a method that doesn't exist will result in a reference error that raises an exception)</p>
        <p>2. <b>Stack trace:</b> a sequence of functions or method calls that lead to the point where the error occurred - exceptions will produce these</p>
        <p>3. <b>Test-driven development (TDD):</b> the process of writing tests before any actual code</p>

        <h2>Questions</h2>
        <ul>
            <li>What exactly would cause a system error? Would it be something like the browser not supporting a feature? Say if you weren't checking if the browser supports a feature you're using in the code, would it cause a system error?</li>
            <li>Would you construct error objects to display error messages to the user if something goes wrong? Or is this simply a debugging technique like the alert() and console.log methods? Would it be used in the case of the user giving data incorrectly? I'd imagine you usually wouldn't want to show your errors to users, so when would you purposefully create error objects using the constructor function and throw them?</li>
        </ul>
    </main>
    
    <footer>
        <a href="../index.html">Portfolio Directory</a>
    </footer>

    <script src="../js/dark.js"></script>
</body>
</html>